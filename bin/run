#!/usr/bin/env python
import sys
import yaml
import os

sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))
from __init__ import annotate,generate,classify

if len(sys.argv) != 3 and len(sys.argv) != 4:
  print "Invalid number of arguments passed, please see README for usage"
  sys.exit(1)

option = sys.argv[1]
configFilePath = os.path.abspath(sys.argv[2])

if option == "-a":
  annotate(configFilePath)
elif option == "-g":
  generate(configFilePath)
elif option == "-c":
  testFilePath = "test-set.csv"
  if len(sys.argv) > 3 and sys.argv[3] != None:
    testFilePath = os.path.abspath(sys.argv[3])
  
  classify(configFilePath, testFilePath)
else:
  print "Invalid option passed, please see README for usage"
  sys.exit(1)